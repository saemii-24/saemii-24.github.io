---
title: "ν”„λ΅μ νΈ λ¦¬λ§μΈλ“ - μΉ΄λ“ ν•„ν„°λ§"
author: saemii
categories:
  - Project
tags:
  - [JavaScript, Project, React]
date: 2024-06-10
last_modified_at: 2024-06-10
pin: false
---

## π“λ“¤μ–΄κ°€λ©°

Card CheckλΌλ” ν”„λ΅μ νΈλ¥Ό μ§„ν–‰ν•λ©΄μ„ κ°€μ¥ μ¤‘μ”ν–κ³ , κµ¬ν„ μ‹κ°„μ΄ λ‹¤μ† μ†μ”λμ—λ λ¶€λ¶„μ€ μΉ΄λ“λ¥Ό ν•„ν„°λ§ ν•λ” λ¶€λ¶„μ΄μ—λ‹¤. μ΄ λ¶€λ¶„μ— λ€ν•΄ μ§λ¬Έμ΄ λ“¤μ–΄μ¨ μ μ΄ μλ”λ° μ„¤λ…μ„ λ²„λ²…μ—¬μ„ λ¶€λ„λ¬μ› λ κΈ°μ–µμ΄ μμ–΄μ„..π… λ¦¬λ§μΈλ“ κ²Έ μ£Όμ” κ°λ…μ„ λ³µμµν•΄λ³΄κ³ μ ν•λ‹¤.

## β…μ „μ²΄ μ½”λ“

μ•„λλ” μ΄ λ΅μ§μ μ „μ²΄ μ½”λ“λ‹¤! μ΄μ  μ°¨κ·Όμ°¨κ·Ό μ‚΄ν΄λ³΄μ.

```javascript
//νμ‚¬ filter ν•¨μ (ν•λ‹¨ ννƒ filterν•¨μ μ½λ°±ν•¨μλ΅ κ°€μ§€κ³  μμ)
const handleFilterBtn = () => {
  setAllCardView(false)
  let thisData = [...cardData]

  let companyMapArr = company
    .filter((el) => el.active === true)
    .map((el) => el.company)
  let benefitMapArr = benefit
    .filter((el) => el.active === true)
    .map((el) => el.benefit)

  const filterObj = thisData.filter((card) => {
    const companyCondition = companyMapArr.includes(card.bank) //card.bank(μ€ν–‰μ΄λ¦„)κ°€ companyMapArr(μ„ νƒ μ€ν–‰μ΄λ¦„ λ°°μ—΄)μ— ν¬ν•¨λμ–΄ μλ”κ°€?
    const benefitCondition = benefitMapArr.every(
      (
        condition //λ¨λ“  benefit conditionμ„ λ§μ΅±ν•λ”κ°€?
      ) => card.benefit.some((benefit) => Object.keys(benefit)[0] === condition) //cardμ μ—¬λ¬ benefitλ“¤ μ¤‘ μ μ‹ λ conditionμ„ λ§μ΅±ν•λ” κ²ƒμ΄ μλ”κ°€?
    )
    return companyCondition && benefitCondition
  })
  setFilterData(filterObj)
}
```

## β…κµ¬ν„ μƒμ„Έ

λ¨Όμ € cardDataλ¥Ό λ³µμ‚¬ν•΄μ¤€λ‹¤.

```javascript
const handleFilterBtn = () => {
  setAllCardView(false)
  let thisData = [...cardData]
}
```

cardDataλ” μ•„λμ™€ κ°™μ€ κ°μ²΄λ¥Ό λ‹΄μ€ λ°°μ—΄μ΄λ‹¤.

```javascript
  {
    id: 'kb-01',
    name: 'λ…Έλ¦¬2 μ²΄ν¬μΉ΄λ“(KB Pay)',
    bank: 'KBκµ­λ―ΌμΉ΄λ“',
    cost: 'μ—°νλΉ„ μ—†μ',
    brand: ['κµ­λ‚΄μ „μ©', 'MASTER', 'VISA'],
    point: [
      { μƒν™: 'μ»¤ν”Ό, λ¨λ°”μΌ, λ¬Έν™” 10% ν• μΈ' },
      { μ‡Όν•‘: 'λ·°ν‹°, νΈμμ  5% ν• μΈ' },
      { μ—¬ν–‰: 'ν•΄μ™Έμ΄μ© 2%, κ³µν•­λΌμ΄μ§€' },
    ],
    benefit: [
      { μ»¤ν”Ό: 'μ¤νƒ€λ²…μ¤, μ»¤ν”ΌλΉ 10% ν• μΈ(μ›” ν• μΈν•λ„ : 3μ²μ›)' },
      { λ¨λ°”μΌ: 'κµ¬κΈ€ν”λ μ΄μ¤ν† μ–΄, μ•±μ¤ν† μ–΄ 10% ν• μΈ (μ›” ν• μΈν•λ„ : 5μ²μ›)' },
      { λ¬Έν™”: 'μΈν„°νν¬ ν‹°μΌ“ 10% ν• μΈ (μ›” ν• μΈν•λ„ : 7μ²μ›)' },
      { λ·°ν‹°: 'μ¬λ¦¬λΈμ, λ―Έμ©μ‹¤ μ—…μΆ… 5% ν• μΈ (μ›” ν• μΈν•λ„ : 2μ²μ›)' },
      { νΈμμ : 'GS25, CU 5% ν• μΈ 5% ν• μΈ (μ›” ν• μΈν•λ„ : 2μ²μ›)' },
      { κµ¬λ…: 'λ„·ν”λ¦­μ¤, μ νλΈν”„λ¦¬λ―Έμ—„ 1λ§μ› μ΄μƒ μ‹ 1,000μ› ν• μΈ (μ›” ν• μΈν•λ„ : 2μ²μ›)' },
      { λ°°λ‹¬: 'λ°°λ‹¬μλ―Όμ΅±, μ”κΈ°μ” 1λ§μ› μ΄μƒ μ‹ 1,000μ› ν• μΈ (μ›” ν• μΈν•λ„ : 1μ²μ›)' },
      { μ΄λ™ν†µμ‹ : 'SKT, KT, LG U , Liiv M 5λ§μ› μ΄μƒ μ‹ 2,500μ› ν• μΈ (μ›” ν• μΈν•λ„ : 2μ²5λ°±μ›)' },
      { μν™”: 'CGV 1λ§μ› μ΄μƒ μ‹ 4,000μ› ν• μΈ (μ›” ν• μΈν•λ„ : 8μ²μ›)' },
      { λ†€μ΄κ³µμ›: 'μ—λ²„λλ“, λ΅―λ°μ›”λ“ 3λ§μ› μ΄μƒ μ‹ 15,000μ› ν• μΈ (μ›” ν• μΈν•λ„ : 1λ§5μ²μ›)' },
      { κΈ°νƒ€: 'μ¤ν”„λΌμΈ κ°€λ§Ήμ  KB Pay κ²°μ  μ‹ 2% μ¶”κ°€ ν• μΈ (μ›” ν• μΈν•λ„ : 3μ²μ›)' },
      { κΈ°νƒ€: 'μ¨λΌμΈ κ°€λ§Ήμ  KB Pay κ²°μ  μ‹ 2% μ¶”κ°€ ν• μΈ (μ›” ν• μΈν•λ„: 2μ²μ›)' },
    ],
    image: '/image/card/kb_1.png',
  },
```

ν„μ¬ μ„μ ν•κ³  μλ” μ½”λ“μ—μ„λ” μƒλµλμ—μ§€λ§, μ„μ κ°μ²΄μ—μ„ activeλ¥Ό μ¶”κ°€ν•΄ company λ³€μλ¥Ό λ§λ“¤μ—λ”λ°, μ΄ activeκ°€ trueμΈ κ²½μ° (μ¦‰ μ‚¬μ©μκ°€, ν•΄λ‹Ή μΉ΄λ“μ‚¬λ¥Ό μ„ νƒν• κ²½μ°) μ—¬κΈ°μ„ company μ΄λ¦„λ§μ„ μ„ νƒν•λ‹¤.

μ¦‰ μ‚¬μ©μκ°€, KBκµ­λ―Όμ€ν–‰, μ°λ¦¬μ€ν–‰ λ²„νΌμ„ ν΄λ¦­ν•κ²½μ° ['KBκµ­λ―Όμ€ν–‰', 'μ°λ¦¬μ€ν–‰']κ³Ό κ°™μ€ λ°°μ—΄μ΄ λ§λ“¤μ–΄μ Έ, companyMapArrμ— ν• λ‹Ήλλ‹¤.

λΉ„μ·ν•κ², μ‚¬μ©μκ°€ μ„ νƒν• ννƒ λ²„νΌμ— λ”°λΌ ['μ»¤ν”Ό', 'λ¨λ°”μΌ']λ“±μ λ°°μ—΄μ΄ λ§λ“¤μ–΄μ§€κ³ , benefitMapArrμ— ν• λ‹Ήλλ‹¤.

```javascript
let companyMapArr = company
  .filter((el) => el.active === true)
  .map((el) => el.company)
let benefitMapArr = benefit
  .filter((el) => el.active === true)
  .map((el) => el.benefit)
```

μ΄μ  μ„μ—μ„ λ§λ“  μ‚¬μ©μκ°€ μ„ νƒν• λ°°μ—΄μ„ μ‚¬μ©ν•΄ μΉ΄λ“λ¥Ό ν•„ν„°λ§ ν•λ‹¤.

```javascript
const filterObj = thisData.filter((card) => {
  const companyCondition = companyMapArr.includes(card.bank)
  const benefitCondition = benefitMapArr.every((condition) =>
    card.benefit.some((benefit) => Object.keys(benefit)[0] === condition)
  )
  return companyCondition && benefitCondition
})
```

λ¨Όμ € μ²« λ²μ§Έ μ΅°κ±΄μΈ card.bank (μΉ΄λ“ κ°μ²΄μ μ€ν–‰ μ΄λ¦„)κ°€ companyMapArrλ΅ λ§λ“  μ‚¬μ©μκ°€ μ„ νƒ ν• μΉ΄λ“μ‚¬ μ΄λ¦„μ΄ λ‹΄κΈ΄ λ°°μ—΄μ— μλ”μ§€ ν™•μΈν•λ‹¤.

λ‘ λ²μ§Έ μ΅°κ±΄μ€ μ‚¬μ©μκ°€ μ„ νƒν• ννƒμ„ λ¨λ‘ ν¬ν•¨ν•΄μ•Ό ν•λ‹¤.

1. `benefitMapArr.every((condition) => ...)`

benefitMapArrμ λ¨λ“  μ”μ†(μ‚¬μ©μκ°€ μ„ νƒν• λ¨λ“  ννƒ)μ— λ€ν•΄ λ‹¤μ μ‹μ΄ μ „λ¶€ trueλ¥Ό λ°ν™ν•λ”μ§€ ν™•μΈν•λ‹¤.

2. `card.benefit.some((benefit) => ...)`
   card.benefit λ°°μ—΄μ μ–΄λ–¤ μ”μ†(benefit)λΌλ„ μ£Όμ–΄μ§„ ν•¨μκ°€ trueλ¥Ό λ°ν™ν•λ”μ§€ ν™•μΈν•λ‹¤.

3. `Object.keys(benefit)[0] === condition`
   benefit κ°μ²΄μ μ²« λ²μ§Έ ν‚¤κ°€ ν„μ¬μ conditionκ³Ό μΌμΉν•λ”μ§€ ν™•μΈν•λ‹¤.

μµμΆ…μ μΌλ΅ `companyCondition`κ³Ό `benefitCondition`μ΄ λ¨λ‘ trueμΈ κ²½μ°μ— λ€ν•΄μ„λ§ λ°μ΄ν„°κ°€ ν•„ν„°λ§ λλ‹¤!

μ΄λ ‡κ² λ§ν•λ‹κΉ...λ³µμ΅ν•λ°!
λ¨Όμ € 1λ²μ conditionμ€ μ‚¬μ©μκ°€ μ„ νƒν• ννƒμ λ°°μ—΄μ—μ„ ν•λ‚μ”© κ²€μ‚¬λ¥Ό μ‹λ„ν•λ‹¤.

μ¦‰, μ‚¬μ©μκ°€ ν¬ν•¨ν•κΈΈ μ›ν•λ” ννƒμ΄ ['νΈμμ ', 'κµ¬λ…']μ΄μ—λ‹¤λ©΄, `νΈμμ `μ„ κΊΌλ‚΄ κ²€μ‚¬λ¥Ό μ‹λ„ν•λ” κ²ƒμ΄λ‹¤.

κ·Έλ‹¤μ 2λ²μ, benefitμ€ μ„μ—μ„ μ‚΄ν΄λ³Έ κ°μ²΄μ— λ‹΄κΈ΄ ννƒλ“¤μ„ ν•λ‚μ”© κ²€μ‚¬ν•λ‹¤.

μ¦‰ μ•„λμ™€ κ°™μ€ λ°μ΄ν„°λ¥Ό ν•λ‚μ”© κΊΌλ‚΄ κ²€μ‚¬ν•κ² λλ‹¤.

```
{ λ¬Έν™”: 'μΈν„°νν¬ ν‹°μΌ“ 10% ν• μΈ (μ›” ν• μΈν•λ„ : 7μ²μ›)' }
```

3λ²μ `Object.keys(benefit)[0]`μ€ μ„μ λ°μ΄ν„°μ—μ„ keyκ°’μΈ 'λ¬Έν™”'λ¥Ό κΊΌλ‚΄κ³ , μ΄ 'λ¬Έν™”'λ¥Ό 1λ²μ condition 'νΈμμ 'κ³Ό λ™μΌν•μ§€ ν™•μΈν•λ‹¤.

μ—¬κΈ°κΉμ§€κ°€ μ „μ²΄ ν•„ν„°λ§μ νλ¦„μ΄λ‹¤.

μ΄μ  someκ³Ό everyμ νΉμ§•μ„ μ‚΄ν΄λ³΄μ. someμ€ ν•λ‚λΌλ„ trueλ©΄ trueλ¥Ό everyλ” μ „λ¶€ trueμ—¬μ•Ό trueκ°€ λ„μ¶λλ‹¤.

μ¦‰, 2λ²κ³Ό 3λ²μ„ ν†µν•΄ ν•΄λ‹Ή μΉ΄λ“ λ°μ΄ν„°μ ννƒμ— `νΈμμ `, `κµ¬λ…`μ΄ μλ”μ§€ ν™•μΈν•λ©°, νΈμμ μ΄ μμΌλ©΄ true, κµ¬λ…μ΄ μ—†λ” κ²½μ° falseλ¥Ό returnν•λ‹¤.

1λ²μ—μ„λ” λ¨λ“  κ°’μ΄ trueμΈ κ²½μ°λ§ trueμ΄λ―€λ΅, μ΄ μμ μ—μ„λ” ν„μ¬ νΈμμ λ§ trueμ΄κΈ° λ•λ¬Έμ— falseλ¥Ό return ν•λ‹¤. μ¦‰, μ‚¬μ©μκ°€ μ„ νƒν• ννƒ μ¤‘ νΈμμ λ§ λ§μ΅±ν•λ―€λ΅ μ΄ μΉ΄λ“λ” ν•„ν„°λ§μ΄ λ¶κ°€λ¥ν•¨μ„ μ• μ μλ‹¤!

## πλ§λ¬΄λ¦¬

κµ¬ν„ν• λ‚΄μ©μ„ μ‚΄ν΄λ³΄λ‹ μ‘μ„±ν•΄λ‘” μ£Όμ„μ΄ μ½”λ“ νλ¦„μ„ μ΄ν•΄ν•λ”λ° λ„μ›€μ„ μ£Όμ—λ‹¤! (κ³Όκ±°μ λ‚μ—κ² κ³ λ§μ›μ§€λ”...π)

everyμ™€ some κ·Έλ¦¬κ³  filterλ¥Ό μ„μ–΄ μ‚¬μ©ν–κ³ , μ½”λ“λ¥Ό μ‘μ„±ν•μ§€ μ‹κ°„μ΄ λ‹¤μ† μ§€λ‚¬λ μ§€λΌ μ΄ λ¶€λ¶„μ— λ€ν•΄ μ§λ¬Έμ΄ λ“¤μ–΄μ™”μ„ λ• κµ¬ν„ λ°©μ‹μ„ μ λ€λ΅ μ„¤λ…μ„ λ»ν–μ—λ”λ°, μ΄μ  κ·Έ λ•λ³΄λ‹¤ μΆ€ λ” μ μ„¤λ…ν•  μ μμ„ κ²ƒ κ°™λ‹¤.

μ¤λμ λ¦¬λ§μΈλ“ λ!
