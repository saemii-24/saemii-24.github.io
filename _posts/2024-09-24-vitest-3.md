---
title: "FEí…ŒìŠ¤íŠ¸(3) - React Testing Library"
author: saemii
categories:
  - Test
tags:
  - [Vitest, ReatTestingLibrary]
date: 2024-09-24
last_modified_at: 2024-09-24
pin: true
---

## ğŸ“Œì‹œì‘í•˜ë©°

ì´ë²ˆì—” vitestì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ ì‚¬ìš©ì ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” React Testing Libraryì— ëŒ€í•´ ì•Œì•„ë³´ê³ ì í•œë‹¤.

React Testing LibraryëŠ” ì‹¤ì œ ì‚¬ìš©ìê°€ UIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì´ˆì ì„ ë§ì¶° í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ë©°, ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ APIë¥¼ ì‚´í´ë³´ì.

## âœ…DOM ìš”ì†Œ ì„ íƒ (get~)

DOM ìš”ì†Œë¥¼ ì„ íƒí•˜ëŠ” ë°©ì‹ (Queries)ëŠ” ì„¸ ê°€ì§€ ë°©ì‹ì´ ìˆë‹¤.

| ì¢…ë¥˜    | ì„¤ëª…                                                                      |
| ------- | ------------------------------------------------------------------------- |
| getBy   | ì¼ì¹˜í•˜ëŠ” ìš”ì†Œë¥¼ ì¦‰ì‹œ ë°˜í™˜, ìš”ì†Œê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ ë°œìƒ                        |
| queryBy | ì¼ì¹˜í•˜ëŠ” ìš”ì†Œ ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜                                      |
| findBy  | ë¹„ë™ê¸°ì ìœ¼ë¡œ ìš”ì†Œ ì°¾ìŒ, ìš”ì†Œê°€ ì—†ì„ ë• Promise ê±°ë¶€, ì‹œê°„ì´ ì§€ë‚˜ë©´ ì¬ì‹œë„ |

### â¡ï¸getBy

| ì¢…ë¥˜                 | ì„¤ëª…                                                             |
| -------------------- | ---------------------------------------------------------------- |
| getByRole            | ì ‘ê·¼ì„± íŠ¸ë¦¬ ì´ìš©. **ê°€ì¥ ê¶Œì¥ë¨**                                |
| getByLabelText       | ì£¼ë¡œ í¼ í•„ë“œì˜ ë¼ë²¨ ì´ìš©í•´ ê²€ìƒ‰                                  |
| getByPlaceholderText | í”Œë ˆì´ìŠ¤ í™€ë”ë¥¼ ì´ìš©í•´ ê²€ìƒ‰                                      |
| getByText            | í…ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ ìš”ì†Œ ê²€ìƒ‰                                        |
| getByAltText         | alt ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë¥¼ ê²€ìƒ‰                                      |
| getByTitle           | title ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë¥¼ ê²€ìƒ‰                                    |
| getByTestId          | í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ elementì— ì´ë¦„ì„ ë¶™ì„. `data-testid`ë¥¼ ì‚¬ìš©í•´ ì •ì˜ |
| getByDisplayValue    | í¼ì—ì„œ í˜„ì¬ ì…ë ¥ëœ ê°’ ê¸°ë°˜ìœ¼ë¡œ ìš”ì†Œ ì„ íƒ                         |

### â¡ï¸screen

ì´ì œ ìœ„ì—ì„œ ì‚´í´ë³¸ ë‚´ìš©ì„ í™œìš©í•´ ìš”ì†Œë¥¼ ì°¾ì•„ë³´ì.
DOM ìš”ì†Œë¥¼ ì°¾ì„ ë•ŒëŠ” `screen` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
screenì€ document.bodyì— ë°”ì¸ë”©ë˜ì–´ ìˆì–´, screen.getBy~ findBy~ ë“±ì„ ì‚¬ìš©í•´ DOMì—ì„œ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.

```typescript
import { screen, render } from "@testing-library/react"
import { describe, it, expect } from "vitest"
import Example from "./Example"

describe("Example ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸", () => {
  it("Example ì»´í¬ë„ŒíŠ¸ ë‚´ ìš”ì†Œë¥¼ ê²€ìƒ‰í•œë‹¤.", () => {
    render(<Example />)
    const element = screen.getByText("ë‚´ê°€ ì°¾ëŠ” ìš”ì†Œ")
    expect(element).toBeInTheDocument()
  })
})
```

## âœ…ì´ë²¤íŠ¸ ì‹œë®¬ë ˆì´ì…˜

ìœ„ì—ì„œ DOMìš”ì†Œë¥¼ ì°¾ê³  ë Œë”ë§ í–ˆìœ¼ë‹ˆ ì´ë²ˆì—” ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì‹œë®¬ë ˆì´ì…˜ í•´ë³´ì.

### â¡ï¸fireEvent

ê°„ë‹¨í•œ ì‚¬ìš©ì ì´ë²¤íŠ¸ (click, change, keydown ë“±)ëŠ” fireEventë¥¼ ì´ìš©í•´ ì‹œë®¬ë ˆì´ì…˜ í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ ì˜ˆì œëŠ” ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ì‚¬ìš©ìê°€ í´ë¦­í•˜ëŠ” ìƒí™©ì„ í…ŒìŠ¤íŠ¸í•œë‹¤.

```typescript
import { render, fireEvent, screen } from "@testing-library/react"
import { vi } from "vitest"

const Button = ({ onClick }) => <button onClick={onClick}>í´ë¦­í•˜ì„¸ìš”</button>

it("ë²„íŠ¼ í´ë¦­ ì‹œ onClick í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤", () => {
  // vitestë¥¼ ì´ìš©í•´ handleClickì´ë€ í•¨ìˆ˜ë¥¼ ëª¨í‚¹í•œë‹¤.
  const handleClick = vi.fn()

  // ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•œë‹¤.
  render(<Button onClick={handleClick} />)

  //textë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ê³ , í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
  fireEvent.click(screen.getByText("í´ë¦­í•˜ì„¸ìš”"))

  // handleClick í•¨ìˆ˜ê°€ 1ë²ˆ í˜¸ì¶œ ë˜ëŠ” ê²ƒì„ ê²€ì¦í•œë‹¤.
  expect(handleClick).toHaveBeenCalledTimes(1)
})
```

fireEventë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```typescript
import { render, fireEvent, screen } from "@testing-library/react"
import { vi } from "vitest"

const Button = ({ onClick }) => <button onClick={onClick}>í´ë¦­í•˜ì„¸ìš”</button>

it("fireEventë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ ë“¤", () => {
  //í´ë¦­ ì´ë²¤íŠ¸
  fireEvent.click(screen.getByText("ì´ë²¤íŠ¸ ì¢…ë¥˜"))
  //ì²´ì¸ì§€ ì´ë²¤íŠ¸ (input, select ë“±ì— ì‚¬ìš©)
  fireEvent.change(screen.getByL  abelText("ì´ë¦„"), {
    target: { value: "ì‹ ì§±êµ¬" },
  })
  //í‚¤ë³´ë“œ ì…ë ¥ ì´ë²¤íŠ¸
  fireEvent.keyDown(screen.getByText("í‚¤ë³´ë“œ ì…ë ¥"), { key: 'Enter', code: 'Enter' })
  //í¬ì»¤ìŠ¤ & ë¸”ëŸ¬
  fireEvent.focus(screen.getByLabelText("í¬ì»¤ìŠ¤ í…ŒìŠ¤íŠ¸"))
  fireEvent.blur(screen.getByLabelText("í¬ì»¤ìŠ¤ í…ŒìŠ¤íŠ¸"))
  //í¼ ì œì¶œ
  fireEvent.submit(screen.getByText("ì œì¶œ"))
  //ë“œë˜ê·¸ ê´€ë ¨ ì´ë²¤íŠ¸
  fireEvent.drag(screen.getByText("ë“œë˜ê·¸ ì´ë²¤íŠ¸"))
  fireEvent.dragStart(screen.getByText("ë“œë˜ê·¸ ì‹œì‘"))
  fireEvent.dragEnd(screen.getByText("ë“œë˜ê·¸ ë"))
  //ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸
  fireEvent.doubleClick(screen.getByText("ë”ë¸” í´ë¦­"))

})
```

## ğŸ—‚ï¸ì°¸ê³  ì‚¬ì´íŠ¸

- <https://testing-library.com/docs/dom-testing-library/intro>
