---
title: "firestore - 400 ì—ëŸ¬ í•´ê²°í•˜ê¸° + ì»¬ë ‰ì…˜ ì €ì¥í•˜ê¸°"
author: saemii
categories:
  - Firestore
tags:
  - [Firestore]
date: 2025-06-17
last_modified_at: 2025-06-17
pin: true
---

# ğŸ“ 400ì—ëŸ¬ í•´ê²°í•˜ê¸°ê¸°

Firebaseë¥¼ ì´ìš©í•´ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í›„, ì‚¬ìš©ì ì •ë³´ë¥¼ firestoreì— ì €ì¥í•˜ë ¤ëŠ” ìƒê°ì„ ê°€ì§€ê³  ìˆì—ˆì§€ë§Œ... ì €ì¥ì´ ì•ˆë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ğŸ¤¨

ì—ëŸ¬ ë©”ì„¸ì§€ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```
400. Thatâ€™s an error.

Your client has issued a malformed or illegal request.
Unknown SID Thatâ€™s all we know.
```

êµ¬ê¸€ ê²€ìƒ‰ì„ í•´ë´ë„ ë¹„ìŠ·í•œ ì›ì¸ì„ ì°¾ê¸° ì–´ë ¤ì› ê³  ğŸ˜¥ ì ì  ë¯¸ê¶ì— ë¹ ì§€ë˜ ì°¨ì—..
ruleì´ ì˜ëª»ë˜ì—ˆì„ ìˆ˜ ìˆë‹¤ê³  í•´ì„œ í™•ì¸í•´ë³´ì•˜ë”ë‹ˆ ì›ì¸ì´ ë°”ë¡œ rule ì´ì—ˆë‹¤ (...)

í•´ë‹¹ firestoreë¥¼ ë§Œë“ ì§€ ì‹œê°„ì´ ì§€ë‚¬ë˜ ì§€ë¼, requestimeì´ ë§Œë£Œë˜ì—ˆë˜ ê²ƒì´ë‹¤!

```
allow read, write: if request.time < timestamp.date(2025, 12, 31); ğŸŒŸ
```

ì´ ë¶€ë¶„ì„ ë°”ë¡œ ì˜¬í•´ ë§ê¹Œì§€ë¡œ ëª…ì‹œí•´ì£¼ë‹ˆ firestoreì— ì»¬ë ‰ì…˜ë„ ì˜ ìƒê¸°ê³ 
ì €ì¥ë„ ë¬¸ì œ ì—†ì´ ì§„í–‰ë˜ì—ˆë‹¤.

## âœ… firestoreì— ì»¬ë ‰ì…˜ ì €ì¥

ì°¸ê³ ë¡œ firestoreì— ì»¬ë ‰ì…˜ ì €ì¥ì€ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰í–ˆë‹¤.
ë‚˜ëŠ” `firebase.ts`ì™€ `firestore.ts`ë¥¼ ë”°ë¡œ ë‚˜ëˆ„ì–´ ì‘ì„±í–ˆë‹¤.

```typescript
//firebase.ts
import { initializeApp } from "firebase/app"

const firebaseConfig = {
  apiKey: process.env.NEXT_PUBLIC_API_KEY,
  authDomain: process.env.NEXT_PUBLIC_AUTH_DOMAIN,
  projectId: process.env.NEXT_PUBLIC_PROJECT_ID,
  storageBucket: process.env.NEXT_PUBLIC_STORAGE_BUCKET,
  messagingSenderId: process.env.NEXT_PUBLIC_MESSAGING_SENDER_ID,
  appId: process.env.NEXT_PUBLIC_APP_ID,
}

const firebaseApp = initializeApp(firebaseConfig)

export default firebaseApp
```

```typescript
//firestore.ts
import { getFirestore } from "firebase/firestore"
import firebaseApp from "./firebase"

const db = getFirestore(firebaseApp)

export default db
```

ë¨¼ì € ì´ë ‡ê²Œ ê¸°ë³¸ ì„¸íŒ…ì„ í•´ë‘ê³ , ì»¬ë ‰ì…˜ì— ì €ì¥í•˜ëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” [ê³µì‹ ë¬¸ì„œ](https://firebase.google.com/docs/firestore/quickstart?hl=ko&_gl=1*rbs8ux*_up*MQ..*_ga*Mjc0ODExMzE5LjE3NTAxNjQ4OTg.*_ga_CW55HF8NVT*czE3NTAxNjQ4OTgkbzEkZzAkdDE3NTAxNjQ4OTgkajYwJGwwJGgw#add_data)ì— ë‚˜ì˜¨ ë‚´ìš©ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì„¸íŒ…í•´ ì£¼ì—ˆë‹¤.

```typescript
"use client"

import db from "@utils/firestore"
import { collection, addDoc } from "firebase/firestore"

export default function SigninFireStore() {
  const handleSave = async () => {
    try {
      const docRef = await addDoc(collection(db, "users"), {
        first: "Ada",
        last: "Lovelace",
        born: 1815,
      })
      console.log("Document written with ID: ", docRef.id)
    } catch (e) {
      console.error("Error adding document: ", e)
    }
  }

  return <button onClick={handleSave}>Firestoreì— ì €ì¥</button>
}
```

ì´ì œ Createê°€ ì˜ ë˜ì—ˆìœ¼ë‹ˆ, ë‚˜ë¨¸ì§€ RUDë„ ì‘ì„±í•´ë³´ì!
ì´ ë‚´ìš©ì€ íˆ¬ë¹„ì»¨í‹°ë‰´...ğŸŒŸ
