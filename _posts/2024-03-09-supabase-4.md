---
title: "supabase와 prisma(4) - storage 이용하기"
author: saemii
categories:
  - Supabase
tags:
  - [Supabase, Next.js]
date: 2024-03-09
last_modified_at: 2024-03-09
pin: true
---

## 📌시작하며

프로젝트에서 이미지를 업로드하고, 해당 이미지를 저장할 필요가 있었다! supabase의 storage를 이용하면 되는데, 어떻게 코드를 작성했는지 돌아보며 정리해보고자 한다.

> 이 글은 아래와 같이 이어집니다.
>
> - [supabase와 prisma(1) - 기본 개념](https://saemii-24.github.io/posts/supabase-1/)
> - [supabase와 prisma(2) - prisma CRUD](https://saemii-24.github.io/posts/supabase-2/)
> - [supabase와 prisma(3) - prisma 심화](https://saemii-24.github.io/posts/supabase-3/)
> - [supabase와 prisma(4) -storage 이용하기](https://saemii-24.github.io/posts/supabase-4/)

## ✅storage

Supabase의 Storage를 사용하면 다양한 크기의 이미지, 동영상, PDF등의 파일을 간편하게 업로드 할 수 있다.

먼저, Supabase와 상호작용하는 과정에서는 Prisma를 사용하고 있는 만큼, Prisma를 이용해 업로드 할 방법을 찾아보았는데 storage 업로드에는 Supabase를 직접 사용하는 듯 했다.

다행히도 코드도 어렵지 않기 때문에 금방 작성할 수 있다!

전체적인 업로드 과정은

```mermaid
graph LR;
A[사용자] --> B(파일 업로드);
B --> C(클라이언트 측에서<BR/> 스토리지에 이미지 업로드);
C --> D(업로드된<BR/> 이미지 URL 얻기);
D --> E(해당 URL 정보를 Body에 담고,<BR/>Next API에 POST 요청)
E --> F(Prisma를 이용해<br/> Supabase에 업로드);
```

## ✅client 만들기

## 📩마무리

이렇게 supabase를 써서 업로드 하는 것 까지는 전부 마무리가 되었다!

## 🗂️참고 사이트

- <https://supabase.com/docs/guides/storage>
