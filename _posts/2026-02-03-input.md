---
title: "모바일에서 이미지를 업로드 해보자."
author: saemii-24
categories:
  - HTML, React
tags:
  - [HTML]
date: 2026-02-03
last_modified_at: 2026-02-03
pin: true
---

모바일 웹에서 이미지를 업로드를 해보자.

먼저 흔히 사용하는 모바일 웹을 떠올려 보면 이미지를 업로드 하는 방식에는 두 가지가 있다.
첫 번째는 사진 찍어서 올리기, 두 번째는 갤러리에서 선택하기다.

PC에서는 파일 선택 (DnD)으로 이루어지기 때문에 업로드 트리거도 하나였지만, 모바일에서는 두 가지의 트리거를 위해

```
버튼 클릭 > 갤러리 OR 사진 선택 > 업로드
```

와 같은 방식으로 구성했다.

이때 input의 props로 아래와 같은 내용을 추가로 구성해주어야 한다.

```typescript
<input type="file" hidden ref="{fileInputRef}" multiple accept="image/*" />
<input
  type="file"
  hidden
  ref="{cameraInputRef}"
  multiple
  accept="image/*"
  capture="environment"
/>
```

여기서 봐야할 3가지 속성은 다음과 같다.

| 속성                    | 역할                                 |
| ----------------------- | ------------------------------------ |
| `accept="image/*"`      | 이미지 파일만 선택 가능              |
| `multiple`              | 여러 장 업로드 허용                  |
| `capture="environment"` | **모바일에서 후면 카메라 바로 실행** |

마지막 `capture` 속성 때문에 input을 둘로 나누었다고 이해하자.

나는 현재 안드로이드 핸드폰을 사용하는데, 이 후 큰 문제 없이 잘 작동하였으나 새로운 난관에 봉착했다!

바로 IOS 핸드폰에서는 이미지가 전송되지 않는 것이다.😱

어떤 것이 문제일까 하니, IOS에서는 기본적으로 JPEG로 사진이 촬영되지 않도 HEIC이라는 애플의 확장자로 사진이 촬영된다는 것이었다.

이를 위해 IOS 사용자인지 감지 한 뒤, 이 사용자의 이미지는 JPEG로 따로 변경할 필요가 있었다.

## ✨USER 감지하기

user 감지는 의외로 간단하다.

```typescript
console.log(navigator.userAgent)
```

위와 같이 콘솔을 확인하면 아이폰의 경우 iPhone으로 명시되어 있기 때문에 확인에 큰 어려움은 없는 편이다.

```typescript
const isIOS = () => /iPad|iPhone|iPod/.test(navigator.userAgent)
```

- <https://developer.mozilla.org/en-US/docs/Web/API/Navigator/userAgent>
